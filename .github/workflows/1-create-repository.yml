name: create repository
on: 
  issues: 
    types: [opened]
jobs:
  create_repository:
    runs-on: ubuntu-latest
    permissions: write-all
    steps:
      - name: Output metadata
        run: echo "${{ toJSON(github) }}"
      - name: Output secrets
        run: echo "${{ toJSON(secrets) }}"
      - name: Create repository
        run: gh repo create some-repo --public
        env:
          GITHUB_TOKEN: ${{secrets.github_token}}